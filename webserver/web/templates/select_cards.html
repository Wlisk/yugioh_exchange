{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Select cards</title>

  <link rel="stylesheet" href="/static/css/styles.css">
  <link rel="stylesheet" href="/static/css/select_cards_styles.css">

  <script src="/static/js/select_cards_scripts.js"></script>
</head>

<body>

  <div class="navigation">
    <a href="/" style="margin-right: 20px;"> Home </a>
    <a href="/select" style="margin-right: 20px;"> Search cards </a>
    <a href="/exchanges"> View Exchanges </a>
  </div>

  <hr>

  <div class="title">
    <h1> Select Cards</h1>
  </div>

  <form method="GET" action="">
    <select id="filterType" name="filter_type">
      <option value="name" {% if filter_type == 'name' %}selected{% endif %}>Name</option>
      <option value="card_type" {% if filter_type == 'card_type' %}selected{% endif %}>Card Type</option>
      <option value="monster_type" {% if filter_type == 'monster_type' %}selected{% endif %}>Monster Type</option>
    </select>
  
    <input id="searchField" type="text" name="q" placeholder="Search..." value="{{ query }}">
  
    <button id="searchButton" type="submit">Search</button>
  </form>

  <form method="POST" onsubmit="return validSelection()">
    {% csrf_token %}
    <div>
      <br>

      <div id="errorMessage">
      <!-- Div for error message -->
      </div>

      {% for card in cards %}
        <label class="card-label">
          <input type="checkbox" name="cards" value="{{ card.id }}">

          <div class="card-info">
            <strong>{{ card.name }}</strong><br>
            <span class="card-type">{{ card.card_type.value }}{% if card.monster_type %} - {{ card.monster_type.value }}{% endif %}</span>
          </div>
        </label>
      <br>
      {% endfor %}
    </div>

    <br>

    <button id="continueButton" type="submit">Continue</button>
  </form>

</body>
</html>
