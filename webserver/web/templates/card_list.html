  <div class="text-center pt-12 mx-auto">
    <h1 class="text-4xl md:text-5xl font-bold text-purple-900 mb-6">
      List of Yu-Gi-Oh Cards
    </h1>
  </div>
  <hr class="border-t border-gray-200 my-6">

  <div class="flex justify-end items-center mb-4">
    <span class="mr-3 font-medium text-gray-700">Visualizar como:</span>
    
    <button id="list-view-btn" class="p-2 rounded-md text-gray-500 hover:bg-gray-200 hover:text-gray-800 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
        </svg>
    </button>
    
    <button id="grid-view-btn" class="p-2 rounded-md text-purple-700 bg-purple-100 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
        </svg>
    </button>
  </div>
  
  <div id="card-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
    {% for card in cards %}
    <div class="card bg-white rounded-lg overflow-hidden shadow-md hover:shadow-[0px_4px_8px_0px_rgba(0,_0,_0,_0.8)] transition-shadow duration-300 cursor-pointer">

      <img class="card-img w-full h-auto object-cover" src="https://images.ygoprodeck.com/images/cards/89631139.jpg" alt="{{ card.name }}">

      <div class="card-details p-4 bg-purple-400 text-black text-center">
        <h3 class="text-lg font-bold truncate">{{ card.name }}</h3>
      </div>

      <div class="card-buttons w-full py-2 px-4 rounded-b-lg flex justify-center items-center space-x-4"> 
        <button class="group"> 
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-8 h-8 transition-colors duration-200">
            <path class="stroke-gray-800 fill-transparent group-hover:stroke-red-600 group-hover:fill-red-500" stroke-width="1.5" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
          </svg>
        </button>

        <button class="group" {% if card in user_cards %} disabled {% endif %} > 
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-8 h-8 transition-colors duration-200">
            <path class="transition-colors duration-200 
                    {% if card in user_cards %}
                      stroke-green-600 fill-green-100
                    {% else %}
                      stroke-gray-800 fill-transparent group-hover:stroke-cyan-600 group-hover:fill-cyan-500
                    {% endif %}"
              stroke-linecap="round" 
              stroke-linejoin="round" 
              stroke-width="1.5" 
              d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
            /> 
            
            {% if card in user_cards %}
              <path 
                class="stroke-green-700"
                stroke-linecap="round" 
                stroke-linejoin="round" 
                stroke-width="2" 
                d="M9 12.75L11.25 15L15 9.75" />
            {% else %}
              <path 
                class="stroke-gray-800 group-hover:stroke-white transition-colors duration-200"
                stroke-linecap="round" 
                stroke-linejoin="round" 
                stroke-width="1.5" 
                d="M12 9v6m3-3H9"
              /> 
            {% endif %}
          </svg>
        </button>
      </div>
 
    </div>
    {% endfor %}
  </div>

  <!-- Deixei o script aqui pois não consegui fazer funcionar em config.js -->
  <script>

    function initializeView() {
           
      const listViewBtn = document.getElementById('list-view-btn');
      const gridViewBtn = document.getElementById('grid-view-btn');
      const cardContainer = document.getElementById('card-container');

      const activeBtnClasses = ['text-purple-700', 'bg-purple-100'];
      const inactiveBtnClasses = ['text-gray-500', 'hover:bg-gray-200', 'hover:text-gray-800'];
      
      listViewBtn.addEventListener('click', () => {
          listViewBtn.classList.add(...activeBtnClasses);
          listViewBtn.classList.remove(...inactiveBtnClasses);
          gridViewBtn.classList.add(...inactiveBtnClasses);
          gridViewBtn.classList.remove(...activeBtnClasses);

          cardContainer.className = 'flex flex-col gap-4';

          document.querySelectorAll('.card').forEach(card => {
              card.className = 'card bg-white rounded-lg overflow-hidden shadow-md hover:shadow-[0px_4px_8px_0px_rgba(0,_0,_0,_0.8)] transition-all duration-300 cursor-pointer flex items-center';
              
              const img = card.querySelector('.card-img');
              img.className = 'card-img w-24 h-auto object-cover';

              const details = card.querySelector('.card-details');
              details.className = 'card-details p-4';

              const buttons = card.querySelector('.card-buttons');
              buttons.className = 'card-buttons w-full py-2 px-4 rounded-b-lg flex justify-end items-center space-x-4'; 
          });
      });

      gridViewBtn.addEventListener('click', () => {
          gridViewBtn.classList.add(...activeBtnClasses);
          gridViewBtn.classList.remove(...inactiveBtnClasses);
          listViewBtn.classList.add(...inactiveBtnClasses);
          listViewBtn.classList.remove(...activeBtnClasses);

          cardContainer.className = 'grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6';
          
          document.querySelectorAll('.card').forEach(card => {
              card.className = 'card bg-white rounded-lg overflow-hidden shadow-md hover:shadow-[0px_4px_8px_0px_rgba(0,_0,_0,_0.8)] transition-all duration-300 cursor-pointer';

              const img = card.querySelector('.card-img');
              img.className = 'card-img w-full h-auto object-cover';

              const details = card.querySelector('.card-details');
              details.className = 'card-details p-4 bg-purple-400 text-black text-center';

              const buttons = card.querySelector('.card-buttons');
              buttons.className = 'card-buttons w-full py-2 px-4 rounded-b-lg content-around flex justify-center items-center space-x-4'; 
          });
      });
    }

    initializeView();

    document.body.addEventListener('htmx:afterSwap', function(event) {
        console.log("HTMX finalizou a troca de conteúdo. Re-inicializando os botões.");
        initializeView();
    }); 

  </script>